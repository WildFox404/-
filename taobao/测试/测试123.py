from  DrissionPage import WebPage

#https://shop580444395.taobao.com/?spm=pc_detail.27183998/evo365560b447259.202202.1.79777dd60wiXyv#/
def get_data_result(page):
    data = page.listen.wait()
    if data.response.body == None:
        print("未获取到数据")
        get_data_result()
    else:
        return data.response.body
def get_data(page):
    data=page.listen.wait(timeout=2)
    if data.response.body==None:
        return False
    else:
        return True


# page2 = WebPage()
# page2.listen.start(targets="h5/mtop.taobao.pcdetail.data.get/1.0/")
# page2.get("https://item.taobao.com/item.htm?ali_refid=a3_430673_1006:1679034432:H:%20yOKEwcH%20p0rlQxKaGKHOFNFibV5mvdixkdinQ6yavNYIOOMqwuxLg==:447dd231a5cacdbfc57542c9fc8ac3cc&ali_trackid=283_447dd231a5cacdbfc57542c9fc8ac3cc&bxsign=tanQdldC15oFwyi25SwJ6JcXbyBw-cSNx_v5OdsNNhBRoJKK2KFzCZhlBtgtrYWk0f-4SKeSUKgQp8os-R7HMOzAGyyseYMc-x5HMBMXAUD-UA&id=771017900194&skuId=5454735799097&spm=a2e0b.20350158.31919782.5")
# #/html/body/div[3]/div[2]/div/div[1]/div[1]/div[1]/div[1]/div/div/img
# print("开始检测是否是新店")
# # if get_data(page2):
# #     # https://gw.alicdn.com/tps/TB1hbG6PpXXXXauapXXXXXXXXXX-88-24.png
# #     print("该店铺为新店")
# print(get_data_result(page2))
import re
text="""{'api': 'mtop.taobao.pcdetail.data.get', 'data': {'seller': {'creditLevel': '0', 'evaluates': [{'level': '0', 'levelText': '平', 'score': '0.0 ', 'title': '宝贝描述', 'type': 'desc'}, {'level': '0', 'levelText': '平', 'score': '0.0 ', 'title': '卖家服务', 'type': 'serv'}, {'level': '0', 'levelText': '平', 'score': '0.0 ', 'title': '物流服务', 'type': 'post'}], 'pcShopUrl': '//shop355423746.taobao.com', 'sellerId': '2605002968', 'sellerNick': '王文涛74482614', 'sellerType': 'C', 'shopIcon': 'https://img.alicdn.com/imgextra/i1/O1CN01pz5irY1bhDKceJor2_!!6000000003496-2-tps-144-144.png', 'shopId': '355423746', 'shopName': '海王捕鱼交流', 'userId': '2605002968'}, 'item': {'images': ['https://img.alicdn.com/imgextra/i1/2605002968/O1CN01ubgrdA1XnOGeqW4zj_!!2605002968.jpg', 'https://img.alicdn.com/imgextra/i3/2605002968/O1CN01BSKxON1XnOOTIvNoS_!!2605002968.jpg'], 'itemId': '735913011762', 'pcADescUrl': '//market.m.taobao.com/app/detail-project/desc/index.html?id=735913011762&descVersion=7.0&type=1&f=desc/icoss7827252399864ce353203022c&sellerType=C', 'qrCode': 'https://h5.m.taobao.com/awp/core/detail.htm?id=735913011762', 'spuId': '0', 'title': '折扣充   海王捕鱼   出租大小分', 'titleIcon': '', 'useWirelessDesc': 'true', 'vagueSellCount': '100+'}, 'feature': {'pcResistDetail': 'false', 'tmwOverseasScene': 'false'}, 'skuCore': {'sku2info': {'0': {'logisticsTime': '48小时内发货', 'moreQuantity': 'true', 'price': {'priceMoney': '1000', 'priceText': '10'}, 'quantity': '200', 'quantityText': '有货'}, '5257681619745': {'cartParam': {'addCartCheck': 'true'}, 'logisticsTime': '48小时内发货', 'moreQuantity': 'true', 'price': {'priceMoney': '1000', 'priceText': '10'}, 'quantity': '200', 'quantityText': '有货'}}, 'skuItem': {'itemStatus': '0', 'renderSku': 'true', 'unitBuy': '1'}}, 'services': None, 'params': {'aplusParams': '[]', 'trackParams': {'detailabtestdetail': ''}, 'userAbtestDetail': '365560_447259'}, 'skuBase': {'components': [], 'props': [{'hasImage': 'false', 'name': '游戏版本', 'pid': '30182', 'values': [{'name': 'DIC扩展34', 'sortOrder': '0', 'vid': '26652291143'}]}, {'hasImage': 'false', 'name': '语种分类', 'pid': '122216883', 'values': [{'name': '简体中文', 'sortOrder': '1', 'vid': '27889'}]}], 'skus': [{'propPath': '30182:26652291143;122216883:27889', 'skuId': '5257681619745'}]}, 'pcTrade': {'buyNowUrl': '//buy.taobao.com/auction/buy_now.jhtml', 'pcBuyParams': {'virtual': 'true', 'buy_now': '10.00', 'auction_type': 'b', 'x-uid': '', 'title': '折扣充   海王捕鱼   出租大小分', 'buyer_from': 'ecity', 'detailIsLimit': 'false', 'who_pay_ship': '卖家承担运费', 'rootCatId': '20', 'auto_post1': None, 'auto_post': 'false', 'seller_nickname': '海王捕鱼交流', 'photo_url': 'i1/2605002968/O1CN01ubgrdA1XnOGeqW4zj_!!2605002968.jpg', 'current_price': '10.00', 'region': '北京', 'seller_id': 'd08dc821141fabcb8b929fa9c150042c', 'etm': ''}, 'pcCartParam': {'areaId': '340403', 'addressId': '17900836989'}, 'tradeType': '1'}, 'componentsVO': {'deliveryVO': {'agingDesc': '48小时内发货', 'areaId': '340403', 'deliverToCity': '淮南', 'deliveryFromAddr': '北京', 'deliveryToAddr': '淮南 田家庵 三和', 'deliveryToDistrict': '田家庵', 'freight': '快递: 免运费'}, 'headerVO': {'buttons': [{'background': {'alpha': '1.0', 'disabledAlpha': '1.0'}, 'disabled': 'false', 'events': [{'fields': {'url': '//s.taobao.com/search'}, 'type': 'onClick'}], 'subTitle': {}, 'title': {'text': '搜淘宝'}, 'type': 'search_in_taobao'}, {'background': {'alpha': '1.0', 'disabledAlpha': '1.0'}, 'disabled': 'false', 'events': [{'fields': {'url': '//shop355423746.taobao.com/search.htm'}, 'type': 'onClick'}], 'subTitle': {}, 'title': {'text': '搜本店'}, 'type': 'search_in_store'}], 'logoJumpUrl': 'https://www.taobao.com', 'mallLogo': 'https://gw.alicdn.com/imgextra/i1/O1CN01z163bz1lHF5yQ50CC_!!6000000004793-2-tps-172-108.png', 'searchText': '搜索宝贝'}, 'headImageVO': {'images': ['https://img.alicdn.com/imgextra/i1/2605002968/O1CN01ubgrdA1XnOGeqW4zj_!!2605002968.jpg', 'https://img.alicdn.com/imgextra/i3/2605002968/O1CN01BSKxON1XnOOTIvNoS_!!2605002968.jpg'], 'videos': []}, 'storeCardVO': {'buttons': [{'disabled': 'false', 'image': {'gifAnimated': 'false', 'imageUrl': 'https://img.alicdn.com/imgextra/i1/O1CN016DNujx1yMMj6NMXVv_!!6000000006564-55-tps-24-24.svg'}, 'title': {'text': '联系客服'}, 'type': 'customer_service'}, {'disabled': 'false', 'events': [{'fields': {'url': '//shop355423746.taobao.com'}, 'type': 'openUrl'}], 'image': {'gifAnimated': 'false', 'imageUrl': 'https://img.alicdn.com/imgextra/i4/O1CN01jn67ow1ZhYeiTJlZn_!!6000000003226-55-tps-24-24.svg'}, 'title': {'text': '进入店铺'}, 'type': 'enter_shop'}], 'creditLevel': '0', 'evaluates': [{'level': '0', 'levelText': '平', 'score': '0.0 ', 'title': '宝贝描述', 'type': 'desc'}, {'level': '0', 'levelText': '平', 'score': '0.0 ', 'title': '卖家服务', 'type': 'serv'}, {'level': '0', 'levelText': '平', 'score': '0.0 ', 'title': '物流服务', 'type': 'post'}], 'labelList': [{'contentDesc': '服务体验良好'}], 'overallScore': '4.4', 'sellerType': 'C', 'shopIcon': 'https://img.alicdn.com/imgextra/i1/O1CN01pz5irY1bhDKceJor2_!!6000000003496-2-tps-144-144.png', 'shopName': '海王捕鱼交流', 'shopUrl': '//shop355423746.taobao.com'}, 'bottomBarVO': {'buyInMobile': 'false', 'leftButtons': [{'background': {'alpha': '1.0', 'disabledAlpha': '1.0', 'disabledColor': ['#ff7700', '#ff4900'], 'gradientColor': ['#ff7700', '#ff4900']}, 'disabled': 'false', 'title': {'alpha': '1.0', 'bold': 'true', 'color': '#ffffff', 'disabledAlpha': '0.2', 'disabledColor': '#80ffffff', 'fontSize': '16', 'text': '立即购买'}, 'type': 'buy_now'}, {'background': {'alpha': '1.0', 'disabledAlpha': '1.0', 'disabledColor': ['#ffcb00', '#ff9402'], 'gradientColor': ['#ffcb00', '#ff9402']}, 'disabled': 'false', 'title': {'alpha': '1.0', 'bold': 'true', 'color': '#ffffff', 'disabledAlpha': '0.2', 'disabledColor': '#33ffffff', 'fontSize': '16', 'text': '加入购物车'}, 'type': 'add_cart'}], 'rightButtons': [{'disabled': 'false', 'icon': {'alpha': '1.0', 'color': '#666666', 'disabledAlpha': '1.0', 'disabledColor': '#dddddd', 'iconFontName': '뀚', 'size': '14'}, 'title': {'alpha': '1.0', 'bold': 'false', 'color': '#666666', 'disabledAlpha': '1.0', 'disabledColor': '#666666', 'fontSize': '14', 'text': '收藏'}, 'type': 'collect'}]}, 'titleVO': {'salesDesc': '已售 100+', 'subTitles': [], 'title': {'title': '折扣充   海王捕鱼   出租大小分'}}, 'extensionInfoVO': {'infos': [{'items': [{'text': ['不支持7天无理由退货']}], 'title': '保障', 'type': 'GUARANTEE'}, {'items': [{'text': ['DIC扩展34'], 'title': '游戏版本'}, {'text': ['乐乐捕鱼'], 'title': '游戏名称'}, {'text': ['简体中文'], 'title': '语种分类'}, {'text': ['游戏陪玩'], 'title': '商品形式'}], 'title': '参数', 'type': 'BASE_PROPS'}]}, 'debugVO': {'host': 'taodetail033044054014.center.na620@33.44.54.14', 'traceId': '213e395317144569963703087e6fcb'}, 'rightBarVO': {'buyerButtons': [{'disabled': 'false', 'href': 'https://h5.m.taobao.com/awp/core/detail.htm?id=735913011762', 'icon': '//gw.alicdn.com/imgextra/i2/O1CN01x9tTha1EGtU2UhV5B_!!6000000000325-2-tps-48-48.png', 'label': '手机购买', 'type': 'qrcode'}, {'disabled': 'false', 'icon': '//img.alicdn.com/imgextra/i1/O1CN013cC24N1Um4HzMwyE7_!!6000000002559-2-tps-52-46.png', 'label': '消息', 'type': 'wangwang'}, {'disabled': 'false', 'icon': '//gw.alicdn.com/imgextra/i1/O1CN01Vtt9UC1xbe8fKra2s_!!6000000006462-2-tps-48-48.png', 'label': '购物车', 'type': 'cart'}, {'disabled': 'false', 'href': '//jubao.taobao.com/index.htm?itemId=735913011762&spm=a1z6q.7847058', 'icon': '//gw.alicdn.com/imgextra/i3/O1CN01eCrL4620CrY63DlJF_!!6000000006814-2-tps-48-48.png', 'label': '举报', 'type': 'report'}, {'disabled': 'false', 'icon': '//gw.alicdn.com/imgextra/i3/O1CN01Eui9x51lVtmC9xKfp_!!6000000004825-2-tps-48-48.png', 'label': '反馈', 'type': 'feedback'}, {'disabled': 'false', 'type': 'backTop'}], 'sellerButtons': []}, 'priceVO': {'price': {'hiddenPrice': 'false', 'priceColor': '#FF4F00', 'priceMoney': '1000', 'priceText': '10', 'priceTitleColor': '#FF4F00', 'priceUnit': '￥'}}}}, 'ret': ['SUCCESS::调用成功'], 'traceId': '213e395317144569963703087e6fcb', 'v': '1.0'}
"""
# 使用正则表达式匹配
pattern = r"'pcShopUrl':\s*'(.*?)'"
result = re.search(pattern, text)

# 提取匹配到的内容
if result:
    extracted_content = result.group(1)
    print(extracted_content)  # 输出：//shop179492430.taobao.com
else:
    print("未匹配到内容")